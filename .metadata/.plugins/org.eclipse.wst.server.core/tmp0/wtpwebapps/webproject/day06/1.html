<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        window.onload = init;
        function init() {
            document.querySelector("#btn1").addEventListener("click", f1);
            document.querySelector("#btn2").addEventListener("click", f2);
            document.querySelector("#btn3").addEventListener("click", f3);
            document.querySelector("#btn4").addEventListener("click", f4);
            document.querySelector("#btn5").addEventListener("click", f5);
            document.querySelector("#btn6").addEventListener("click", f6);
            document.querySelector("#btn7").addEventListener("click", f7);
            document.querySelector("#btn8").addEventListener("click", f8);
            document.querySelector("#btn9").addEventListener("click", f9);
            document.querySelector("#btn10").addEventListener("click", f10);
            document.querySelector("#btn11").addEventListener("click", f11);
            document.querySelector("#btn12").addEventListener("click", f12);
            document.querySelector("#btn13").addEventListener("click", f13);
            document.querySelector("#btn14").addEventListener("click", f14);
        }
        // 함수이름을 부여함(선언적함수)
        function f1() {
            var call = function (a, b) {
                document.querySelector("#here").innerHTML = "<h1>익명함수</h1>" + (a + b);
            };
            call(1, 2);
        }

        function f2() {
            (function (a, b) {
                document.querySelector("#here").innerHTML = "<h1>익명함수(즉시실행)</h1>" + (a + b);
            })(100, 200)
        }

        function f3() {
            document.querySelector("#here").innerHTML = sumAll(1, 2, 3, 4, 5);
        }
        //인자의 개수는 일치하지 않아도무관, 보낸 갯수보다 적으면 undefined(Not a Number)
        //같은 이름의 함수가 있으면 나중것이 적용
        function sumAll() {
            var total = 0;
            for (let i = 0; i < arguments.length; i++) {
                total += arguments[i];
            }
            return total;
        }
        function sumAll() {
            return 100;
        }
        function f4() {
            var width = 3;
            var height = 4;
            var result = Math.sqrt(sqrt(wudth) + sqrt(height));
            document.querySelector("#here").innerHTML = result;
        }
        function sqrt(a) {
            return a * a;
        }

        /*function sqrt(a){
            return a;  //나중에 작성된 것이 수행된다.
        }*/
        function f5() {
            var call2 = function () {
                call3(call2);
            }
        }
        //callback: 매개변수로 전달되는 함수, 받은 쪽에서 호출된다.
        function call3(f) {
            f();
        }

        function f6() {
            timer1 = setInterval(call6, 1000);//1초 후 마다 cll6함수가 호출된다.
        }
        function call6() {
            document.querySelector("#here").innerHTML = new Date();
        }

        function f7() {
            clearInterval(timer1);
        }

        function f8() {
            //지역변수는 지역을 벗어나면 소멸된다. return함수에 지역변수가 들어있으면 사라지지 않고 계속 사용가능(클로저)
            var result = call8();
            result();
        }
        function call8() {
            var i = 100;
            var f = function () {
                i++;
                return i;
            };
            return f;
        }

        var result9 = add(0);
        var result10 = add(100);
        function f9() {
            document.querySelector("#here").innerHTML = result9();
        }
        function add() {
            var counter = 0;
            return function () {
                counter++;
                return counter;
            }
        }

        function f10() {
            for (let i = 0; i < 3; i++) {
                //setTimeout(function(){alert(i);},10);
                (function () {
                    setTimeout(function () { alert(i); }, 10);
                })(i);
            }
        }

        function f11() {
            var arr = [10, 20, 30];
            arr.forEach(function (element, index, array) {
                alert(element + "==>" + index);
            });
        }
        function f12() {
            var url = "http://127.0.0.1:5500/webapp/dayo6/1.html";
            here.innerHTML = encodeURIComponent(url);
            here.innerHTML += "<hr>" + decodeURIComponent(here.innerHTML);
        }
        function f13() {
            //NaN(Not a Number)
            //Number:숫자형 문자가 아니면 불가, parseInt: 앞부분숫자만 가져온다.
            var num1 = parseInt(document.querySelector("#num1").value) + 200;
            here.innerHTML = num1;
        }
        function f14() {
            call16(100);
        }
        function call16(a, b, c) {
            var second = b || 200;
            // var second = b ==undefined?200:b;
            var third = c || 300;
            // var third = c == undefined ? 300 : c;
            here.innerHTML = a += second + third;

        }
    </script>
</head>

<body>
    <h1>Function</h1>
    <button id="btn1">익명함수</button>
    <button id="btn2">즉시실행함수</button>
    <button id="btn3">가변인자</button>
    <button id="btn4">내부함수</button>
    <button id="btn5">callback함수</button>
    <button id="btn6">callback함수(시계)</button>
    <button id="btn7">시계멈추기</button>
    <button id="btn8">함수리턴(클로저)</button>
    <button id="btn9">counter(클로저이용)</button>
    <button id="btn10">클로저이용</button>
    <button id="btn11">클로저이용(es6)</button>
    <button id="btn12">인코딩디코딩</button>
    <button id="btn13">숫자변환</button>
    <button id="btn14">매개변수의 기본값</button>
    <hr>
    <div id="here">여기</div>
</body>

</html>