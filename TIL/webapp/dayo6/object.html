<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>


<body>
    <button>Object의 속성 동적추가</button>
    <button>Object배열</button>
    <button>복사</button>
    <button>생성자함수</button>
    <button>기본/참조타입</button>
    <button>forEach</button>
    <button>JSON</button>
    <button>예외처리</button>
    <button>클래스</button>


    <div id="'here">여기</div>
    <script src="https://cdn.jsdelivr.net/npm/underscore@1.13.6/underscore-umd-min.js"></script>
</body>
<script>
    document.querySelector("button:nth-child(1)").addEventListener("click", f1);
    document.querySelector("button:nth-child(2)").addEventListener("click", f2);
    document.querySelector("button:nth-child(3)").addEventListener("click", f3);
    document.querySelector("button:nth-child(4)").addEventListener("click", f4);
    document.querySelector("button:nth-child(5)").addEventListener("click", f5);
    document.querySelector("button:nth-child(6)").addEventListener("click", f6);
    document.querySelector("button:nth-child(7)").addEventListener("click", f7);
    document.querySelector("button:nth-child(8)").addEventListener("click", f8);
    document.querySelector("button:nth-child(9)").addEventListener("click", f9);

    function f9() {
        var s1 = new Student2("은정", 100, 90, 80);
        console.log(s1);
        console.log(s1.toString);
    }
    class Student2 {
        constructor(name, java, sql, js) {
            this.name = name;
            this.java = java;
            this.sql = sql;
            this.js = js;
        }
        //class내의 함수는 function예약어를 사용하지 않는다.
        getSum() {
            return this.java + this.sql + this.js;
        }
        getAvg(){
            return this.getSum()/3;
        }
        toString(){
            return "이름은"+this.name + "평균은" + this.getAvg();
        }
    }

    function f8() {
        try {
            var arr = new Array(9999999999999999999999);
        } catch (ex) {
            console.log(ex.message);
        }
        console.log("success");
    }

    function f7() {
        //JSON(JavaScript Object Notation) : JavaScript Object형태의 문자열
        var student = { name: "홍길동", java: 100, sql: 90, js: 80 };
        //자바스크립트 오브젝트를 문자열로 바꾸기
        var str = JSON.stringify(student);//{ name: "홍길동", java: 100, sql: 90, js: 80 };
        console.log(student, typeof (student));
        console.log(str, typeof (str));//JSON문자열

        //console.log(str.java); undefined
        var student2 = JSON.parse(str);//JSON객체
        console.log(student2.java);
    }

    function f6() {
        var arr = ["월요일", "화요일", "수요일", "목요일"];
        arr.sort();
        arr.forEach(function (data, seq, obj) {
            console.log(seq + "번째 =>" + data);
        });
        var arr2 = arr.map(function (data) {
            return data.charAt(0);
        });
        console.log(arr2);

        //filter는 조건에 맞으면(true) return됨
        var arr = [1, 2, 3, 4, 5];
        var arr2 = arr.filter(function (data) { return data % 2 == 0; });
        console.log(arr2);
    }

    function f5() {
        var a = 100;//기본형
        var b = new Number(20);//객체형

        console.log(a.toString(2));
        console.log(b.toString(2));

        //기본형은 속성 추가 불가, 객체형은 속성 추가 가능
        b.f1 = function () { return 100; };
        console.log(b.f1());

        var s = "자바스크립트";
        console.log(s.indexOf("스"));


    }

    function f4() {
        var arr = [];
        var arr2 = new Array();
        var num = new Number;

        var student = [];

        student.push(new Student("kim1", 100, 90, 80));
        student.push(new Student("kim2", 100, 90, 80));
        student.push(new Student("kim3", 100, 90, 80));
        student.push(new Student("kim4", 100, 90, 80));
        student.push(new Student("kim5", 100, 90, 80));
        student.push(new Student("kim6", 100, 90, 80));

        Student.prototype

        for (let index in student) {
            here.innerHTML += "<br>" + student[index];
        }
        var obj = new Student("kim1", 100, 90, 80);


    }
    //자바스크립트의 최상위 객체는 object이다.
    //오브젝트에는 toString()메서드가 제공된다. 객체출력하면 [object Object]
    //prototype: 생성자함수를 이용해서 만든 객체들이 공유하는 공간

    function Student(name, java, sql, js) {
        this.name = name;
        this.java = java;
        this.sql = sql;
        this.js = js;
        this.getSum = function () {
            return this.java + this.sql + this.js;
        };
        this.getAvg = function () {
            return this.getSum / 3;
        };
        this.toString = function () {
            return "이름은" + this.name + "평균은" + this.getAvg()
        };
    }

    function f3() {
        var score = 100;
        var score2 = score;
        score2 = 200;
        console.log(score, score2);

        var arr = [10, 20, 30];
        var arr2 = arr;//주소복사(같은 곳을 참조한다.)
        var arr3 = _.clone(arr); //underscore.js를 이용
        var arr4 = [...arr]; //전개연산자로 복제
        arr[0] = 99;
        console.log(arr);//99,20,30
        console.log(arr2);
        console.log(arr3);
        console.log(arr4);

        var obj = { name: "홍길동", java: 100, sql: 90, js: 80 };
        var obj2 = obj;
        var obj3 = _.clone(obj); //underscore.js이용
        var obj4 = { ...obj };//전개연산자
        obj.java = 99;

        console.log(obj);//99,20,30
        console.log(obj2);
        console.log(obj3);
        console.log(obj4);
        var score = [10, 4, 9, 23, 20];
        // score.sort(function(a,b){return a-b;});//ascending
        // score.sort(function(a,b){return b-a;});//descending
        // score.sort((a,b)=>b-a);//descending
        scores_.sortBy(score);
        console.log(score);
    }

    function f2() {
        var student = [];
        student.push({ name: "홍길동1", java: 100, sql: 90, js: 80 });
        student.push({ name: "홍길동2", java: 100, sql: 94, js: 90 });
        student.push({ name: "홍길동3", java: 100, sql: 80, js: 70 });
        student.push({ name: "홍길동4", java: 100, sql: 12, js: 60 });
        student.push({ name: "홍길동5", java: 100, sql: 99, js: 60 });

        student = _.sortBy(student, "name");

        for (let index in student) {
            student[index].getSum = function () {
                return this.java + this.sql + this.js;
            };
            student[index].getAvg = function () {
                return this.getSum() / 3;
            };
            console.log(student[index].name, student[index].getSum(), student[index].getAvg());
        }
    }

    function f1() {
        var obj = { name: "홍길동" };
        obj.age = 20;
        obj.major = "컴공";
        obj.myinfo = function () {
            here.innerHTML = this.name + ":" + this.major;
        };
        obj.myinfo();
    }
    /*
    var arr = [10, 20, 30];
    console.log(arr[0]);

    var obj = {
        1: "홍길동", 2: 20, "전공": "컴공", 과목: "JavaScrpit", "자기 소개": "000000",
        go:function(){alert("go함수");}
    };
    console.log(obj["1"]);
    console.log(obj["2"]);
    console.log(obj["전공"]);
    console.log(obj.전공);
    console.log(obj["과목"]);
    console.log(obj.과목);
    console.log(obj["자기 소개"]);
    console.log(obj.go);

    for(let pro in obj){
        console.log(obj[pro]);
    }*/
</script>

</html>